<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>그릿에듀 | 내 강의실</title>
  <link rel="icon" href="./assets/favicon.jpg" type="image/jpeg">
  <link rel="stylesheet" href="./assets/css/main.css">
  <style>
    .learn-layout{display:grid;grid-template-columns:280px 1fr;gap:24px;align-items:start}
    .sidebar{border:1px solid var(--border);border-radius:16px;padding:16px;background:#fff}
    .sidebar h3{margin:0 0 12px;font-size:16px}
    .sidebar ul{list-style:none;padding:0;margin:0}
    .sidebar li{padding:8px 0;border-bottom:1px solid var(--border)}
    .sidebar li:last-child{border-bottom:none}
    .sidebar a{text-decoration:none;color:#111}
    .sidebar a:hover{color:var(--brand)}
    .content{border:1px solid var(--border);border-radius:16px;padding:20px;background:#fff}
    .welcome{margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid var(--border)}
    .course-card{border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:16px;background:#f9f9f9}
    .course-card h4{margin:0 0 8px;color:var(--brand)}
    .course-card p{margin:0 0 12px;color:var(--muted);font-size:14px}
    .video-container{aspect-ratio:16/9;border:1px solid var(--border);border-radius:12px;overflow:hidden;background:#000}
    @media (max-width:860px){ .learn-layout{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <header>
    <div class="nav">
      <div class="left"><a href="/"><img src="./assets/grite_logo_columns.jpg" alt="GRIT 로고" style="height:34px"></a></div>
      <div class="center">
        <nav class="menu" id="mainMenu">
          <a href="/">그릿에듀</a>
          <a href="/story.html">이야기</a>
          <a href="/instructors.html">강사진</a>
          <a href="/gallery.html">갤러리</a>
          <a href="/contact.html">상담</a>
          <a href="/learn.html" class="active">내 강의실</a>
        </nav>
      </div>
      <div class="right">
        <span id="navUser" class="hidden"></span>
        <button id="btnOpenLogin" class="btn primary">로그인</button>
      </div>
    </div>
  </header>

  <main class="container learn-layout" id="learnRoot">
    <!-- 사이드바 -->
    <aside class="sidebar">
      <h3>내 강의실</h3>
      <ul>
        <li><a href="#dashboard">대시보드</a></li>
        <li><a href="#courses">수강 중인 강의</a></li>
        <li><a href="#assignments">과제</a></li>
        <li><a href="#notices">공지사항</a></li>
        <li><a href="#profile">프로필</a></li>
      </ul>
    </aside>

    <!-- 메인 콘텐츠 -->
    <div class="content">
      <div class="welcome">
        <h2>안녕하세요! <span id="meEmail"></span>님</h2>
        <p>그릿에듀 학습 관리 시스템에 오신 것을 환영합니다.</p>
      </div>

      <!-- 수강 중인 강의 -->
      <section>
        <h3>수강 중인 강의</h3>
        
        <div class="course-card">
          <h4>수학 - 미적분 기초</h4>
          <p>유홍석 선생님 | 진행률: 75%</p>
          <div class="video-container">
            <iframe id="yt1" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
          </div>
        </div>

        <div class="course-card">
          <h4>영어 - 문법 완성</h4>
          <p>박혜린 선생님 | 진행률: 45%</p>
          <div class="video-container">
            <iframe width="100%" height="100%" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>
          </div>
        </div>

        <div class="course-card">
          <h4>국어 - 독해 전략</h4>
          <p>강지웅 선생님 | 진행률: 30%</p>
          <div class="video-container">
            <iframe width="100%" height="100%" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- 하단 SNS 공통 -->
  <div class="footer-sns">
    <a href="https://www.instagram.com/grit_edu_seoul/" target="_blank" rel="noopener">
      <svg viewBox="0 0 24 24" aria-hidden="true"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"
        fill="none" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="12" r="3.2" fill="none"
        stroke="currentColor" stroke-width="2"/><circle cx="17.3" cy="6.7" r="1.2" fill="currentColor"/></svg>
    </a>
    <a href="https://www.youtube.com/@gritedu_official?feature=shared" target="_blank" rel="noopener">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M23 7.2a3 3 0 0 0-2.1-2.1C18.8 4.5 12 4.5 12 4.5s-6.8 0-8.9.6A3 3 0 0 0 1 7.2
        47 47 0 0 0 1 12a47 47 0 0 0 .1 4.8A3 3 0 0 0 3.2 19c2.1.6 8.8.6 8.8.6s6.8 0 8.9-.6A3 3 0 0 0 23 16.8
        47 47 0 0 0 23 12a47 47 0 0 0 0-4.8z" fill="none" stroke="currentColor" stroke-width="2"/>
        <polygon points="10,15.5 10,8.5 16,12" fill="currentColor"/></svg>
    </a>
    <a href="https://blog.naver.com/PostList.naver?blogId=gritedu&categoryNo=0&from=postList" target="_blank" rel="noopener">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"/>
        <path d="M8 8v8h2.8l3.2-4.1V16H16V8h-2.8L10 12.1V8H8z" fill="currentColor"/>
      </svg>
    </a>
  </div>

  <footer><div class="inner">© 2025 그릿에듀 | 대한민국 교육의 새로운 표준</div></footer>

  <!-- 로그인 모달 -->
  <dialog id="loginDialog" class="modal">
    <header>
      <span>로그인</span>
      <button data-close class="btn">닫기</button>
    </header>
    <div class="body">
      <div>
        <label for="loginEmail">이메일</label>
        <input id="loginEmail" type="email" placeholder="you@example.com" autocomplete="email">
      </div>
      <div>
        <label for="loginPassword">비밀번호</label>
        <input id="loginPassword" type="password" placeholder="8자 이상" autocomplete="current-password">
      </div>
      <div id="loginError" class="error-text" style="color:#d00;font-size:13px;"></div>
    </div>
    <div class="actions">
      <button id="btnSignup" class="btn">회원가입</button>
      <button id="doLogin" class="btn primary">로그인</button>
    </div>
  </dialog>

  <!-- 회원가입 모달 -->
  <dialog id="signupDialog" class="modal">
    <header>
      <span>회원가입</span>
      <button data-close class="btn">닫기</button>
    </header>
    <div class="body">
      <div>
        <label for="signupEmail">이메일</label>
        <input id="signupEmail" type="email" placeholder="you@example.com" autocomplete="email">
      </div>
      <div>
        <label for="signupPassword">비밀번호 (8자 이상)</label>
        <input id="signupPassword" type="password" placeholder="8자 이상" autocomplete="new-password">
      </div>
      <div>
        <label for="signupPassword2">비밀번호 확인</label>
        <input id="signupPassword2" type="password" placeholder="다시 입력" autocomplete="new-password">
      </div>
      <div id="signupError" class="error-text" style="color:#d00;font-size:13px;"></div>
    </div>
    <div class="actions">
      <button id="doSignup" class="btn primary">가입하기</button>
    </div>
  </dialog>

  <!-- 공통 스크립트: firebase 초기화 + auth UI -->
  <script type="module" src="/assets/js/firebase.js"></script>
  <script type="module" src="/assets/js/auth-ui.js"></script>
  
  <!-- 페이지 전용 스크립트 -->
  <script type="module" src="/assets/js/learn.js"></script>
</body>
</html>
